# 自动生成小学四则运算题目

## 项目简介
本项目是一个用于自动生成小学四则运算题目的 Python 命令行程序。它支持生成包含自然数和真分数的题目，并能确保题目不会出现负数或无法计算的除法。程序支持存储生成的题目与答案，并提供答题评测功能，判断用户答案的对错。

## 功能介绍
1. **生成指定数量的四则运算题目**
   - 题目包含加、减、乘、除四种运算，且符合小学数学计算规则。
   - 生成的题目不会出现负数，并且除法运算确保结果为真分数。
   - 每道题最多包含 3 个运算符。
   - 题目不会重复，即不会因为交换律生成相同的题目。
   - 题目存储在 `Exercises.txt` 文件，格式为：
     ```
     (1/4 * 1/7) =
     1 =
     3 =
     (6 - (2 * 5/4)) =
     ((9 * 6/5) - 9) =
     (5 / 1) =
     ((9 / 5) * (9 * 1)) =
     3/2 =
     (6 - (1 / 1/7)) =
     (5 - (7/4 * 3/8)) =
     ```

2. **计算正确答案**
   - 计算所有生成的题目答案，并存储在 `Answers.txt` 文件，格式如下：
     ```
     16.2
     1
     3
     0.03571428571428571
     1
     4.34375
     1.8000000000000007
     5.0
     3
     1.5
     ```

3. **答题评测功能**
   - 读取 `Exercises.txt`（题目文件）和 `Answers.txt`（用户提交答案文件）。
   - 比对正确答案，统计对错并输出到 `Grade.txt`。
   - 评测结果示例：
     ```
     Correct: 2 (2, 3)
     Wrong: 8 (1, 4, 5, 6, 7, 8, 9, 10)
     ```

## 运行方法

### 1. 生成题目
运行以下命令生成题目和答案文件：
```sh
python myapp.py -n <题目数量> -r <数值范围>
```
示例：
```sh
python myapp.py -n 10 -r 10
```
上述命令将生成 10 道数值范围在 0 到 9 之间的题目。

### 2. 评测答案
运行以下命令对比 `Exercises.txt` 和 `Answers.txt`，生成评分结果：
```sh
python myapp.py -e Exercises.txt -a Answers.txt
```

## 代码结构
```
├── myapp.py        # 主程序文件
├── README.md       # 项目说明文档
├── Exercises.txt   # 生成的题目文件
├── Answers.txt     # 生成的答案文件
├── Grade.txt       # 评测结果
```

## 代码核心逻辑
1. **生成题目**
   - 随机生成自然数和真分数。
   - 使用递归方式生成符合规则的算术表达式。
   - 确保运算过程中不会出现负数。
   - 题目去重处理，避免生成等价题目。

2. **计算答案**
   - 解析算术表达式。
   - 计算分数加减乘除，确保格式正确。
   - 采用 `fractions.Fraction` 处理真分数，避免浮点数误差。

3. **评测答案**
   - 读取 `Exercises.txt` 和 `Answers.txt`。
   - 逐行比对计算结果，记录正确与错误题目。
   - 生成 `Grade.txt`，格式清晰，方便查看。

## 示例
### 生成题目示例
**Exercises.txt**
```
2 + 3 × 4 =
1/2 + 1/3 =
```

**Answers.txt**
```
14
5/6
```

**Grade.txt**（示例评测结果）
```
Correct: 8 (1, 2, 4, 5, 6, 8, 9, 10)
Wrong: 2 (3, 7)
```

## 注意事项
1. 运行程序前确保 Python 3 已安装。
2. 运行时需保证 `Exercises.txt` 和 `Answers.txt` 在当前目录下，否则会报错。
3. 若需要批量评测，可先手动修改 `Answers.txt`，再执行评测命令。

## 未来优化方向
- **增加 GUI 界面**：目前为命令行应用，可拓展为图形界面。
- **优化题目难度控制**：支持设置不同的难度级别。
- **增加题目类型**：目前仅支持四则运算，可拓展到应用题或文字题。

## 贡献者
- **姓名1（学号）**
- **姓名2（学号）**
- **GitHub 项目地址**: [项目链接](https://github.com/your-repo)

